<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>suiteinit.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteController.html">SuiteController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#closeSuite">closeSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#createNewScript">createNewScript</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#export">export</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#getSuiteJson">getSuiteJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#loadSuite">loadSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#newScript">newScript</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#newSuite">newSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#run">run</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#runSuite">runSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#save">save</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#saveSettings">saveSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#saveSuite">saveSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#settings">settings</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteController.SuiteController.html">SuiteController</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteModel.html">SuiteModel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#getJson">getJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#getScriptModel">getScriptModel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#loadJson">loadJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#saveSettings">saveSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#saveSuite">saveSuite</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteModel.SuiteModel.html">SuiteModel</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteView.html">SuiteView</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#addRows">addRows</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#addScriptsTabEntry">addScriptsTabEntry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#checkIfExists">checkIfExists</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#clearNewScriptDialogFields">clearNewScriptDialogFields</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#clearSettingsFields">clearSettingsFields</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#createNewScriptTab">createNewScriptTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#createSheets">createSheets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#displaySettings">displaySettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#displayTab">displayTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#doSaveAction">doSaveAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#downloadSuite">downloadSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getBrowserOptions">getBrowserOptions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getScriptsData">getScriptsData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getUISettingsValues">getUISettingsValues</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#handleCellChange">handleCellChange</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#handleCellSelection">handleCellSelection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#hideNewScriptDialog">hideNewScriptDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#hideSettings">hideSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#loadScripts">loadScripts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#populateUISettingsValue">populateUISettingsValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#registerHandlers">registerHandlers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#removeScriptAndTab">removeScriptAndTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#sanitizeJson">sanitizeJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showErrorDialog">showErrorDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showNewScriptDialog">showNewScriptDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showSuiteOverwriteWarning">showSuiteOverwriteWarning</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#validateSettings">validateSettings</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteView.SuiteView.html">SuiteView</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#actions">actions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindKeyboardShortcuts">bindKeyboardShortcuts</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">suiteinit.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var suiteView;
var suiteController;
var suiteModel;

/** 
 * The entry point where the frontend is created 
*/
$(document).ready(function () {
    actions.main.sort();
    bsCustomFileInput.init()

    toastr.options.closeButton = true;
    toastr.options.positionClass = "toast-bottom-right";

    $('[data-toggle="tooltip"]').tooltip();

    $("#errorDialog").draggable({
        handle: ".modal-header"
    });

    // $(window).bind('beforeunload', function () {
    //     suiteController.save();
    //     return 'Are you sure you want to leave?';
    // });
    bindKeyboardShortcuts();
    let storageContent = sessionStorage.getItem('savedSuite');

    suiteController = new SuiteController();
    suiteModel = new SuiteModel();
    suiteView = new SuiteView(suiteController);

    suiteController.initialize(suiteView, suiteModel);
    suiteView.initialize(suiteController);

    if (isFileLoad || storageContent !== null) {
        let sContent = '';
        let showToast = false;
        // Preference given to file load even if there is content in localstorage
        if(isFileLoad){
            sContent = JSON.parse(suiteContent);
            showToast = true;
        }
        else{
            sContent = JSON.parse(storageContent);
        }
        console.log('Do Script Load', sContent);

        suiteController.loadSuite(sContent, showToast);
    }
    else {
        suiteView.displaySettings(true);
    }



});

/**
 * Binds the mouse shortcut keys to the functions in the application
 *
 */
function bindKeyboardShortcuts() {

    Mousetrap.bind('mod+s', function (e) {
        handleDefaults(e);
        console.log("Mousetrap save...");
        suiteController.save();
    });

    Mousetrap.bind('mod+m', function (e) {
        console.log("Mousetrap new script...");
        handleDefaults(e);
        suiteController.newScript();
    });

    Mousetrap.bind('mod+y', function (e) {
        console.log("Mousetrap new suite...");
        handleDefaults(e);
        suiteController.newSuite();
    });

    Mousetrap.bind('mod+e', function (e) {
        console.log("Mousetrap export...");
        handleDefaults(e);
        suiteController.export();
    });

    Mousetrap.bind('mod+q', function (e) {
        console.log("Mousetrap run...");
        handleDefaults(e);
        suiteController.run();
    });

    Mousetrap.bind('mod+l', function (e) {
        console.log("Mousetrap load...");
        handleDefaults(e);
        suiteController.load();
    });

    Mousetrap.bind('mod+,', function (e) {
        handleDefaults(e);
        console.log("Mousetrap settings...");
        suiteController.settings();
    });

    function handleDefaults(e) {
        if (e.preventDefault) {
            e.preventDefault();
        }
        else {
            // internet explorer
            e.returnValue = false;
        }
    }
}

</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Mon Jun 01 2020 01:34:52 GMT+0530 (India Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
