<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>suitemodel.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteController.html">SuiteController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#closeSuite">closeSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#createNewScript">createNewScript</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#export">export</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#getSuiteJson">getSuiteJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#loadSuite">loadSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#newScript">newScript</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#newSuite">newSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#run">run</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#runSuite">runSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#save">save</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#saveSettings">saveSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#saveSuite">saveSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteController.html#settings">settings</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteController.SuiteController.html">SuiteController</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteModel.html">SuiteModel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#getJson">getJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#getScriptModel">getScriptModel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#loadJson">loadJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#saveSettings">saveSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteModel.html#saveSuite">saveSuite</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteModel.SuiteModel.html">SuiteModel</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteView.html">SuiteView</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#addScriptsTabEntry">addScriptsTabEntry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#checkIfExists">checkIfExists</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#clearNewScriptDialogFields">clearNewScriptDialogFields</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#clearSettingsFields">clearSettingsFields</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#createNewScriptTab">createNewScriptTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#createSheets">createSheets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#displaySettings">displaySettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#displayTab">displayTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#doSaveAction">doSaveAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#downloadSuite">downloadSuite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getBrowserOptions">getBrowserOptions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getScriptsData">getScriptsData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#getUISettingsValues">getUISettingsValues</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#handleCellChange">handleCellChange</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#handleCellSelection">handleCellSelection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#hideNewScriptDialog">hideNewScriptDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#hideSettings">hideSettings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#loadScripts">loadScripts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#populateUISettingsValue">populateUISettingsValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#registerHandlers">registerHandlers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#removeScriptAndTab">removeScriptAndTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#sanitizeJson">sanitizeJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showErrorDialog">showErrorDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showNewScriptDialog">showNewScriptDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#showSuiteOverwriteWarning">showSuiteOverwriteWarning</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SuiteView.html#validateSettings">validateSettings</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SuiteView.SuiteView.html">SuiteView</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#actions">actions</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">suitemodel.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/// ================ SuiteModel =========================
/**
 * Represents the Json Model of the Suite
 *
 * @class SuiteModel
 */
class SuiteModel {

    /**
     * Creates an instance of SuiteModel.
     * @memberof SuiteModel
     */
    constructor() {
        this.settings = {};
        this.scripts = [];
    }

    /**
     * Initialize the constructs settings and scripts
     *
     * @memberof SuiteModel
     */
    initialize() {
        this.settings = {};
        this.scripts = [];
    }

    /**
     * Returns the JSON model of the suite
     *
     * @returns JSON Object that represents the Suite
     * @memberof SuiteModel
     */
    getJson() {
        let data = {};
        data.name = this.settings.name;
        data.settings = this.settings;
        data.scripts = this.scripts;
        return data;
    }

    /**
     * Loads the suite Json Model from the file loaded
     *
     * @param {JSON} suiteContent - suite content loaded from file
     * @memberof SuiteModel
     */
    loadJson(suiteContent) {
        this.settings = suiteContent.settings;
        this.scripts = suiteContent.scripts;
    }

    /**
     * Saves the settings
     *
     * @param {JSON} settings - settings of the suite: serverURL, browser settings etc.
     * @memberof SuiteModel
     */
    saveSettings(settings) {
        this.settings = settings;
    }

    /**
     * Saves the suite JSON to the SuiteModel class
     *
     * @param {JSON} sData - Save the scripts to the SuiteModel
     * @memberof SuiteModel
     */
    saveSuite(sData) {
        this.scripts = [];
        sData.forEach(script => {
            let model = this.getScriptModel(script);
            this.scripts.push(model);
        });
        console.log(this.getJson());
    }

    /**
     * Constructs the SuiteModel from the SuiteView object's script data
     *
     * @param {JSON} scriptsData - SuiteView  internal script data
     * @returns JSON object in the SuiteModel Structure
     * @memberof SuiteModel
     */
    getScriptModel(scriptsData) {
        console.log("script model", scriptsData);
        let retVal = {}
        retVal.name = scriptsData.name;
        retVal.run = scriptsData.run;
        retVal.stopOnError = scriptsData.stopOnError;
        retVal.actions = [];
        scriptsData.actions.forEach(obj => {
            let actionsObj = {};
            actionsObj.execute = obj[0];
            actionsObj.stopOnError = obj[1];
            actionsObj.actionName = obj[2];
            actionsObj.actionType = obj[3];
            actionsObj.element = obj[4];
            actionsObj.elementValue = obj[5];
            actionsObj.attributeName = obj[6];
            actionsObj.attributeValue = obj[7];
            if (obj[8] != undefined &amp;&amp; obj[8] != '') {
                actionsObj.preprocess = {}
                actionsObj.preprocess.actionType = obj[8];
                actionsObj.preprocess.attributeName = obj[9];
                actionsObj.preprocess.attributeValue = obj[10];
            }
            retVal.actions.push(actionsObj);
        });

        return retVal;
    }

}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Sat May 30 2020 01:23:52 GMT+0530 (India Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
